"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[950],{3950:function(n,e,r){r.r(e),r.d(e,{default:function(){return W}});var s,t,o,i=r(5671),l=r(3144),u=r(136),a=r(4104),c=r(364),p=r(3459),h=r(2791),f=r(2683),d=r(1087),g=r(9439),x=c.v9,P=r(168),j=r(2978),w={SelectedPage:j.ZP.span(s||(s=(0,P.Z)(["\n  border: 1px solid black;\n  font-weight: ",";\n  color: ",";\n"])),(function(n){return n.isSelected?"bold":"normal"}),(function(n){return n.isSelected?"red":"black"})),PaginatorWrapperStyle:j.ZP.div(t||(t=(0,P.Z)(["\ndisplay: flex;\ngap: 5px;\n"]))),PagesWrapper:j.ZP.div(o||(o=(0,P.Z)(["\n    display: flex;\n  gap: 3px;\n"])))},v=r(184),C=function(n){var e=n.onChangePage,r=n.portionSize,s=x((function(n){return n.users.totalUsersCount})),t=x((function(n){return n.users.pageSize})),o=x((function(n){return n.users.currentPage})),i=Math.ceil(o/r),l=(0,h.useState)(i),u=(0,g.Z)(l,2),a=u[0],c=u[1];console.log(a);for(var p=Math.ceil(s/t),f=[],d=1;d<=p;d++)f.push(d);var P=Math.ceil(p/r),j=(a-1)*r+1,C=a*r;return(0,v.jsxs)(w.PaginatorWrapperStyle,{children:[a>1&&(0,v.jsx)("button",{onClick:function(){c(a-1)},children:"left"}),(0,v.jsx)(w.PagesWrapper,{children:f.filter((function(n){return n>=j&&n<=C})).map((function(n){return(0,v.jsx)(w.SelectedPage,{onClick:function(){e(n)},isSelected:o===n,children:n})}))}),P>a&&(0,v.jsx)("button",{onClick:function(){c(a+1)},children:"right"})]})},S=function(n){for(var e=Math.ceil(n.totalUsersCount/n.pageSize),r=[],s=1;s<=e;s++)r.push(s);return(0,v.jsxs)("div",{children:[(0,v.jsx)(C,{onChangePage:n.onChangePage,portionSize:10}),(0,v.jsx)("div",{children:n.usersPage.map((function(e){return(0,v.jsxs)("div",{children:[(0,v.jsxs)("span",{children:[(0,v.jsx)("div",{children:(0,v.jsx)(d.OL,{to:"/profile/"+e.id,children:(0,v.jsx)("img",{style:{width:"150px",height:"150px",borderRadius:"70px"},src:null!==e.photos.small?e.photos.small:f,alt:""})})}),(0,v.jsx)("div",{children:e.followed?(0,v.jsx)("button",{disabled:n.followInProgress.some((function(n){return n===e.id})),onClick:function(){n.unfollow(e.id)},children:"Unfollow"}):(0,v.jsx)("button",{disabled:n.followInProgress.some((function(n){return n===e.id})),onClick:function(){n.follow(e.id)},children:"Follow"})})]}),(0,v.jsxs)("span",{children:[(0,v.jsxs)("span",{children:[(0,v.jsx)("div",{children:e.name}),(0,v.jsx)("div",{children:e.status})]}),(0,v.jsxs)("span",{children:[(0,v.jsx)("div",{children:"u.location.country"}),(0,v.jsx)("div",{children:"u.location.city"})]})]})]},e.id)}))})]})},m=r(5282),b=r(7781),k=function(n){return n.users.users},y=function(n){return n.users.pageSize},Z=function(n){return n.users.currentPage},z=function(n){return n.users.totalUsersCount},U=function(n){return n.users.fetch},I=function(n){return n.users.followInProgress},A=function(n){return n.auth.isAuth},M=function(n){(0,u.Z)(r,n);var e=(0,a.Z)(r);function r(){var n;(0,i.Z)(this,r);for(var s=arguments.length,t=new Array(s),o=0;o<s;o++)t[o]=arguments[o];return(n=e.call.apply(e,[this].concat(t))).onChangeHandler=function(e){n.props.fetchUsers(e,n.props.pageSize)},n}return(0,l.Z)(r,[{key:"componentWillMount",value:function(){this.props.fetchUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,v.jsx)(v.Fragment,{children:this.props.fetch?(0,v.jsx)(m.p,{}):(0,v.jsx)(S,{isAuth:this.props.isAuth,usersPage:this.props.usersPage,currentPage:this.props.currentPage,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,onChangePage:this.onChangeHandler,followInProgress:this.props.followInProgress,follow:this.props.follow,unfollow:this.props.unfollow})})}}]),r}(h.Component),W=(0,b.qC)((0,c.$j)((function(n){return{usersPage:k(n),pageSize:y(n),currentPage:Z(n),totalUsersCount:z(n),fetch:U(n),followInProgress:I(n),isAuth:A(n)}}),{fetchUsers:p.uh,follow:p.ZN,unfollow:p.fv}))(M)}}]);
//# sourceMappingURL=950.da62de82.chunk.js.map