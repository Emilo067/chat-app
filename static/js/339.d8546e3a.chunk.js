"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[339],{6339:function(n,e,r){r.r(e),r.d(e,{default:function(){return _}});var o,s,t,i=r(5671),l=r(3144),a=r(136),u=r(4104),c=r(364),p=r(3382),h=r(2791),f=r(2683),d=r(1087),g=r(9439),x=r(4048),P=r(168),C=r(2978),j=C.ZP.span(o||(o=(0,P.Z)(["\n  position: relative;\n  padding: 20px 25px;\n  text-decoration: none;\n  color: ",";\n  font-weight: 500;\n  cursor: pointer;\n  &:hover {\n    background: rgba(255, 255, 255, 0.2);\n  }\n"])),(function(n){return n.isSelected?"#13FF0C":"#fff"})),w=C.ZP.div(s||(s=(0,P.Z)(["\n  position: relative;\n  height: 60px;\n  background: rgba(255, 255, 255, 0.05);\n  box-shadow: 5px 5px 30px rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  backdrop-filter: blur(3px);\n  border-radius: 2px;\n"]))),v=C.ZP.div(t||(t=(0,P.Z)(["\n  list-style-type: none;\n  display: inline-block;\n  \n \n"]))),S={SelectedPage:j,PaginatorWrapperStyle:w,PagesWrapper:v},b=r(184),k=function(n){var e=n.onChangePage,r=n.portionSize,o=(0,x.C)((function(n){return n.users.totalUsersCount})),s=(0,x.C)((function(n){return n.users.pageSize})),t=(0,x.C)((function(n){return n.users.currentPage})),i=Math.ceil(t/r),l=(0,h.useState)(i),a=(0,g.Z)(l,2),u=a[0],c=a[1];console.log(u);for(var p=Math.ceil(o/s),f=[],d=1;d<=p;d++)f.push(d);var P=Math.ceil(p/r),C=(u-1)*r+1,w=u*r;return(0,b.jsxs)(S.PaginatorWrapperStyle,{children:[u>1&&(0,b.jsx)(j,{onClick:function(){c(u-1)},children:"Prev"}),(0,b.jsx)(S.PagesWrapper,{children:f.filter((function(n){return n>=C&&n<=w})).map((function(n){return(0,b.jsx)(S.SelectedPage,{onClick:function(){e(n)},isSelected:t===n,children:n})}))}),P>u&&(0,b.jsx)(j,{onClick:function(){c(u+1)},children:"Next"})]})},m=r(3890),y=function(n){for(var e=Math.ceil(n.totalUsersCount/n.pageSize),r=[],o=1;o<=e;o++)r.push(o);return(0,b.jsxs)("div",{children:[(0,b.jsx)(k,{onChangePage:n.onChangePage,portionSize:10}),(0,b.jsx)("div",{children:n.usersPage.map((function(e){return(0,b.jsx)("div",{children:(0,b.jsxs)("span",{children:[(0,b.jsx)("div",{children:(0,b.jsx)(d.OL,{to:"/profile/"+e.id,children:(0,b.jsx)("img",{style:{width:"150px",height:"150px",borderRadius:"70px"},src:null!==e.photos.small?e.photos.small:f,alt:""})})}),(0,b.jsxs)("span",{children:[(0,b.jsx)("div",{children:e.name}),(0,b.jsx)("div",{children:e.status})]}),(0,b.jsx)("div",{children:e.followed?(0,b.jsx)(m.z,{disabled:n.followInProgress.some((function(n){return n===e.id})),onClick:function(){n.unfollow(e.id)},children:"Unfollow"}):(0,b.jsx)(m.z,{disabled:n.followInProgress.some((function(n){return n===e.id})),onClick:function(){n.follow(e.id)},children:"Follow"})})]})},e.id)}))}),(0,b.jsx)(k,{onChangePage:n.onChangePage,portionSize:10})]})},z=r(2331),Z=r(7781),U=r(7437),I=function(n){return n.users.users},M=function(n){return n.users.pageSize},W=function(n){return n.users.currentPage},A=function(n){return n.users.totalUsersCount},F=function(n){return n.users.fetch},H=function(n){return n.users.followInProgress},N=function(n){(0,a.Z)(r,n);var e=(0,u.Z)(r);function r(){var n;(0,i.Z)(this,r);for(var o=arguments.length,s=new Array(o),t=0;t<o;t++)s[t]=arguments[t];return(n=e.call.apply(e,[this].concat(s))).onChangeHandler=function(e){n.props.fetchUsers(e,n.props.pageSize)},n}return(0,l.Z)(r,[{key:"componentWillMount",value:function(){this.props.fetchUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,b.jsx)(b.Fragment,{children:this.props.fetch?(0,b.jsx)(z.p,{}):(0,b.jsx)(y,{isAuth:this.props.isAuth,usersPage:this.props.usersPage,currentPage:this.props.currentPage,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,onChangePage:this.onChangeHandler,followInProgress:this.props.followInProgress,follow:this.props.follow,unfollow:this.props.unfollow})})}}]),r}(h.Component),_=(0,Z.qC)((0,c.$j)((function(n){return{usersPage:I(n),pageSize:M(n),currentPage:W(n),totalUsersCount:A(n),fetch:F(n),followInProgress:H(n),isAuth:(0,U.J)(n)}}),{fetchUsers:p.uh,follow:p.ZN,unfollow:p.fv}))(N)}}]);
//# sourceMappingURL=339.d8546e3a.chunk.js.map